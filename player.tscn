[gd_scene load_steps=57 format=3 uid="uid://bk4w8rmv6h7v5"]

[ext_resource type="Script" path="res://player.cs" id="1_0vg1j"]
[ext_resource type="Texture2D" uid="uid://dkw12rdoguaxg" path="res://art/Fighter/Idle.png" id="2_4ua3o"]
[ext_resource type="Texture2D" uid="uid://ww2l3e63ba8o" path="res://art/Fighter/IdleHit.png" id="3_owhhn"]
[ext_resource type="Texture2D" uid="uid://dvtel7wryv6qi" path="res://art/Fighter/Evasion.png" id="4_jflyw"]
[ext_resource type="Texture2D" uid="uid://78m3gx3gofrc" path="res://art/Fighter/Move.png" id="5_78ms1"]
[ext_resource type="Texture2D" uid="uid://ckeu0a424oeix" path="res://art/Fighter/Attack_2.png" id="6_x51mb"]
[ext_resource type="Texture2D" uid="uid://byqckciqug76c" path="res://art/Fighter/Turn_1.png" id="7_amxo5"]
[ext_resource type="Texture2D" uid="uid://cgxokmiwuvmy0" path="res://art/Fighter/Turn_2.png" id="8_r25l4"]
[ext_resource type="AudioStream" uid="uid://dh0g7k1h2p65p" path="res://sounds/Dodge.wav" id="9_u6jt1"]
[ext_resource type="Script" path="res://BeamWeapon.cs" id="10_2vqku"]
[ext_resource type="Texture2D" uid="uid://djhemhdg3w6ej" path="res://art/07.png" id="10_yf2oq"]
[ext_resource type="AudioStream" uid="uid://baev3ipveyia5" path="res://sounds/LaserBeam.wav" id="11_1e810"]
[ext_resource type="Texture2D" uid="uid://emo7xts2jm4y" path="res://art/beamParticle.png" id="12_gj62n"]

[sub_resource type="AtlasTexture" id="AtlasTexture_onfvm"]
atlas = ExtResource("4_jflyw")
region = Rect2(0, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_3drge"]
atlas = ExtResource("4_jflyw")
region = Rect2(192, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_rabp6"]
atlas = ExtResource("4_jflyw")
region = Rect2(384, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_urin1"]
atlas = ExtResource("4_jflyw")
region = Rect2(576, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_wffat"]
atlas = ExtResource("4_jflyw")
region = Rect2(768, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_t1j7a"]
atlas = ExtResource("4_jflyw")
region = Rect2(960, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_hfw4v"]
atlas = ExtResource("4_jflyw")
region = Rect2(1152, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_0bpho"]
atlas = ExtResource("4_jflyw")
region = Rect2(1344, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_bkqeu"]
atlas = ExtResource("5_78ms1")
region = Rect2(0, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_pii6e"]
atlas = ExtResource("5_78ms1")
region = Rect2(192, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_fb86r"]
atlas = ExtResource("5_78ms1")
region = Rect2(384, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_13kvp"]
atlas = ExtResource("5_78ms1")
region = Rect2(576, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_8ure0"]
atlas = ExtResource("5_78ms1")
region = Rect2(768, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_ev7s0"]
atlas = ExtResource("5_78ms1")
region = Rect2(960, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_pk6vk"]
atlas = ExtResource("6_x51mb")
region = Rect2(0, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_ys55b"]
atlas = ExtResource("6_x51mb")
region = Rect2(192, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_iqy0m"]
atlas = ExtResource("7_amxo5")
region = Rect2(0, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_uwlu4"]
atlas = ExtResource("7_amxo5")
region = Rect2(192, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_du6ks"]
atlas = ExtResource("7_amxo5")
region = Rect2(384, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_hwbk5"]
atlas = ExtResource("7_amxo5")
region = Rect2(576, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_fx4pa"]
atlas = ExtResource("8_r25l4")
region = Rect2(0, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_ckuqf"]
atlas = ExtResource("8_r25l4")
region = Rect2(192, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_s6jaw"]
atlas = ExtResource("8_r25l4")
region = Rect2(384, 0, 192, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_jlcjg"]
atlas = ExtResource("8_r25l4")
region = Rect2(576, 0, 192, 192)

[sub_resource type="SpriteFrames" id="SpriteFrames_u3pms"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_4ua3o")
}, {
"duration": 1.0,
"texture": ExtResource("3_owhhn")
}],
"loop": true,
"name": &"default",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_onfvm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3drge")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rabp6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_urin1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wffat")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t1j7a")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hfw4v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0bpho")
}],
"loop": true,
"name": &"dodging",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bkqeu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pii6e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fb86r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_13kvp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8ure0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ev7s0")
}],
"loop": true,
"name": &"moving",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_pk6vk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ys55b")
}],
"loop": true,
"name": &"shooting_primary",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_iqy0m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uwlu4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_du6ks")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hwbk5")
}],
"loop": true,
"name": &"turning_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_fx4pa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ckuqf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s6jaw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jlcjg")
}],
"loop": true,
"name": &"turning_right",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_s7rhx"]
atlas = ExtResource("10_yf2oq")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2k617"]
atlas = ExtResource("10_yf2oq")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mopam"]
atlas = ExtResource("10_yf2oq")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_c6gle"]
atlas = ExtResource("10_yf2oq")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_bm6ic"]
atlas = ExtResource("10_yf2oq")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_arvp6"]
atlas = ExtResource("10_yf2oq")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_kmitg"]
atlas = ExtResource("10_yf2oq")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6vw0s"]
atlas = ExtResource("10_yf2oq")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mercg"]
atlas = ExtResource("10_yf2oq")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_dducu"]
atlas = ExtResource("10_yf2oq")
region = Rect2(96, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_jcoh3"]
atlas = ExtResource("10_yf2oq")
region = Rect2(128, 32, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_n73ik"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_s7rhx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2k617")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mopam")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c6gle")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bm6ic")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_arvp6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kmitg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6vw0s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mercg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dducu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jcoh3")
}],
"loop": true,
"name": &"default",
"speed": 10.0
}]

[sub_resource type="Gradient" id="Gradient_02pwk"]
offsets = PackedFloat32Array(0, 0.532787, 0.807377)
colors = PackedColorArray(0.403922, 0.847059, 0.843137, 1, 0.458386, 0.861033, 0.85747, 0.908629, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_la40k"]
gradient = SubResource("Gradient_02pwk")

[sub_resource type="Curve" id="Curve_yjse5"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.680147, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_3jbb5"]
curve = SubResource("Curve_yjse5")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_f3tms"]
particle_flag_disable_z = true
angle_max = 180.0
direction = Vector3(0, 1, 0)
spread = 60.0
initial_velocity_min = 12.0
initial_velocity_max = 12.0
gravity = Vector3(0, 0, 0)
scale_min = 0.25
scale_max = 0.5
scale_curve = SubResource("CurveTexture_3jbb5")
color_ramp = SubResource("GradientTexture1D_la40k")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_8xt8d"]
particle_flag_disable_z = true
angle_max = 180.0
spread = 90.0
initial_velocity_min = 18.0
initial_velocity_max = 30.0
gravity = Vector3(0, 0, 0)
scale_min = 0.5
scale_curve = SubResource("CurveTexture_3jbb5")
color_ramp = SubResource("GradientTexture1D_la40k")

[node name="Player" type="Area2D"]
process_mode = 1
scale = Vector2(4, 4)
script = ExtResource("1_0vg1j")

[node name="TextureRect" type="TextureRect" parent="."]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -10.0
offset_top = -8.0
offset_right = -10.0
offset_bottom = -8.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.25, 0.25)
size_flags_horizontal = 4
size_flags_vertical = 4
texture = ExtResource("2_4ua3o")
expand_mode = 1
stretch_mode = 2

[node name="hitbox" type="CollisionPolygon2D" parent="."]
visible = false
position = Vector2(2, 0)
polygon = PackedVector2Array(-7.5, 0, -8, -0.5, -8, -1.5, -9, -2, -9, -3, -7, -4, -7.5, -4.5, -7.5, -6.5, -4.5, -8, -2, -8, -1, -6.5, 6, -5, 8, -3.5, 10, -3.5, 10.5, -3, 12, -3, 13, -2, 14, -2, 14.5, -2, 14, -1.5, 7, -1.5, 6, -2.5, 5, -2.5, 4.5, -3, 1.5, -3, 1, -2.5, 2, -1.5, 3, -1.5, 3.5, -1, 4, -0.5, 2, -0.5, 1, 0, 2, 0.5, 3.5, 0.5, 3.5, 1, 3, 1.5, 2, 1.5, 1.5, 2.5, 4.5, 2.5, 6, 2.5, 7, 1.5, 14, 1.5, 14, 2.5, 12.5, 2.5, 12, 3, 10, 3, 9.5, 3.5, 8, 3.5, 6.5, 5, -1, 6.5, -2.5, 8, -4.5, 8, -7.5, 6.5, -7.5, 3.5, -9, 2.5, -9, 2, -8, 1.5, -8, 0.5)

[node name="Timer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true

[node name="DodgeTimer" type="Timer" parent="."]
wait_time = 1.4
one_shot = true

[node name="DodgeCooldownTimer" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(1.5, 0)
scale = Vector2(0.25, 0.25)
sprite_frames = SubResource("SpriteFrames_u3pms")
animation = &"moving"

[node name="DodgeSound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("9_u6jt1")

[node name="BeamWeapon" type="RayCast2D" parent="."]
process_mode = 1
modulate = Color(0.52549, 1, 0.996078, 1)
position = Vector2(3, 0)
rotation = 4.71239
enabled = false
exclude_parent = false
target_position = Vector2(0, 2000)
collide_with_areas = true
script = ExtResource("10_2vqku")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="BeamWeapon"]
stream = ExtResource("11_1e810")
volume_db = 7.0
pitch_scale = 0.65

[node name="Line2D" type="Line2D" parent="BeamWeapon"]
modulate = Color(1.2, 1.2, 1.2, 1)
points = PackedVector2Array(9.65599e-07, 1, 0, 100)
width = 0.0
default_color = Color(0.494118, 0.980392, 1, 1)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="BeamWeapon"]
modulate = Color(2, 2, 2, 1)
position = Vector2(1.207e-06, 1.25)
scale = Vector2(0.25, 0.25)
sprite_frames = SubResource("SpriteFrames_n73ik")
frame_progress = 0.341138

[node name="GPUParticles2D" type="GPUParticles2D" parent="BeamWeapon"]
modulate = Color(1.5, 1.5, 1.5, 1)
position = Vector2(2.414e-06, 2.5)
emitting = false
process_material = SubResource("ParticleProcessMaterial_f3tms")
texture = ExtResource("12_gj62n")
lifetime = 0.3
fixed_fps = 60

[node name="GPUParticles2D2" type="GPUParticles2D" parent="BeamWeapon"]
position = Vector2(-0.25, 0.25)
emitting = false
process_material = SubResource("ParticleProcessMaterial_8xt8d")
texture = ExtResource("12_gj62n")
lifetime = 0.3
fixed_fps = 60

[connection signal="area_entered" from="." to="." method="OnAreaEntered"]
[connection signal="body_entered" from="." to="." method="_on_body_entered"]
[connection signal="timeout" from="Timer" to="." method="OnTimerTimeout"]
[connection signal="timeout" from="DodgeTimer" to="." method="OnDodgeTimerTimeout"]
[connection signal="timeout" from="DodgeCooldownTimer" to="." method="OnDodgeCooldownTimeout"]
